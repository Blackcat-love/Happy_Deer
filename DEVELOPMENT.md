## 前言
欢迎来到开发文档，在这里我将详细说明项目构架，数据库构成等方便快速上手开发

## 数据库
目前是数据库结构是:
- `ID` 是一个整数字段，自动递增，作为表的主键。
- `Date` 是一个日期字段，记录发生日期。
- `Time` 是一个时间字段，记录具体时间。
- `Frequency` 是一个整数字段，记录同一天中的操作次数，默认值为1。
- `Last_datetime` 是一个日期时间字段，记录上一次操作的时间。
- `Interval_time` 是一个整数字段，记录两次操作之间的时间间隔（以分钟为单位）。
- `Remarks` 是一个文本字段，用于存储任何额外的备注信息。
- `FOREIGN KEY (ID) REFERENCES Users(ID)` 是一个外键约束，假设你有一个名为 `Users` 的表，并且 `ID` 是用户的标识符。如果你不需要这个外键关系，可以去掉这一行。

SQL:
```sql
CREATE TABLE HealthRecords (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    Date DATE NOT NULL,
    Time TIME NOT NULL,
    Frequency INT DEFAULT 1,
    Last_datetime DATETIME,
    Interval_time INT,
    Remarks TEXT,
    FOREIGN KEY (ID) REFERENCES Users(ID)
);
```
**例子:**

| ID   | Date       | Time     | Frequency | Last_datetime       | Interval_time | 备注                       |
| :--- | :--------- | :------- | :-------- | :------------------ | :------------ | :------------------------- |
| 1    | 2024-01-01 | 08:00:00 | 1         | -                   | -             | 用户A的第一次记录          |
| 2    | 2024-01-02 | 09:30:00 | 1         | 2024-01-01 08:00:00 | 1440          | 用户A的第二次记录，间隔1天 |
| 3    | 2024-01-02 | 11:00:00 | 2         | 2024-01-02 09:30:00 | 90            | 用户A同一天第二次操作      |
| 4    | 2024-01-03 | 10:15:00 | 1         | 2024-01-02 11:00:00 | 1290          | 用户B的第一次记录，间隔1天 |
| 5    | 2024-01-04 | 14:00:00 | 1         | 2024-01-03 10:15:00 | 10710         | 用户A的记录，间隔2天       |


## 美化
在我最初的设计中，主页的按钮样式是具有某种动画的波浪效果，它不只是用来装饰，同时也可以大概根据设定的恢复时间算出间隔时间作为参数去显示波纹填充的范围，当恢复完成，也就是间隔时间归零的时候，波浪填充是满的
我想我可以通过这个项目 https://github.com/gelitenight/WaveView?tab=readme-ov-file 来实现我需要的功能
这是关于按钮方面的美化，后续我还想要对所有页面进行更加丝滑流畅的效果

我发现了一个新的项目 它可以在View的周围点击后弹窗 https://github.com/tomergoldst/tooltips 我认为可以使用这样的方式对用户的点击进行一些引导，更加顺滑和直观，比如点击后提示某些相关的数据

## 收集
我认为收集适当的数据，对于后续的开发规划很有帮助，所以我为了让开发维护更好，我首先想要实现的就是统计出用户的使用次数，毕竟作为开发者，希望有更多人使用自己做的软件，这让人感到自豪，同时有更多动力
之后，通过各种渠道的反馈来制定开发计划，不过不能忘记的是初心


## 主题
在我的计划中主题和主页的文字做绑定，这样能凸显出不同的效果，方便区分，比如如果主题是锻炼，那么按钮的TEXT就是开始锻炼，上方的TEXT也会变成，举例上一次锻炼已经过了多久之类的，这些关键字可以变得自定义，当然我开放了这个设定，也能够让其变得搞怪，比如SEX模式什么的，哈哈。
APP默认有一个主题，当然你也可以创建新的主题使用
首先主题之间需要有一个切换保存的功能，它是可以无限增加的，而且具有ID，默认是1，当你创建了一个新主题，那么增加2，在设置中切换主题后，默认会变成2然后保存。
每个主题应该对应新的数据和表格，所以我应该重新模块化代码，这样就可以随时切换主题和数据表了

### 特殊主题 心流模式

这是我在听minecraft音乐的时候想到的，一种宁静的感觉，外面可能下了一些小雪，但是我呆在木头做的小房子里，烤着篝火，很惬意。

我希望把这种感觉也做成一个功能，让人能够感觉到温度




## 第一次撤销功能
当你打开APP本来想要查看数据结果不小心点击了按钮，只要没有退出APP，这个数据是可以被撤销删除的

## 第一次下载进入APP的判断
当第一次进入APP，我们可能需要一个简单的新手教程，但在此之前我们首先需要判断是否第一此进入APP，我的设计是首先我会获取一个本地数据，当然第一次下载这个数据是不存在的，所以这个判断能保证是第一次下载打开APP，之后完成新手教程后我会创建一个本地数据，下一次进入后，因为检测到了本地数据，所以确定不是第一次进入APP，就此完成了检测新手的功能

## 第一版图标设计
鹿娘化 长角 圆脸可爱捏 而且也有点肉肉的很瑟瑟

## 实现定时提示


## 实现动态背景


## 徽章效果
收集徽章，变得更强

## 重写底层代码
当我想要添加一项新的功能的时候，我发现了存在于底层代码的问题，因为我最初的设计只支持一个数据表，只为了记录一项数据，所以我把实现代码写死了，当我需要更多的美化效果和更变通的数据的时候，重新访问似乎效率太低
所以我决定在原有基础上重新设计数据表和代码，编写方法类让我调用更加方便，同时再次整理代码。

我在思考，这些功能的添加是否与我最初的主题背道而行，即使功能再多有时也未必是一件好事，尤其是我打算将这个软件宣传推广的大众的时候。为了对抗市面上的软件，如何去打造出特色的，更加关键。
目前我有两种计划，第一种是，再次进行一些思考，来决定后续的更新内容，第二种，从现在开始进行分支化，最初的目标是为了鹿管记录，实现这个项目后，展开新的分支，这次则是便捷的记录所有想要记录的事情。

## 图表数据统计的设计
我目前的计划是分为三个维度 从短时间到长时间 一周统计的折线图 一月统计的散点图 一年统计的雷达图 直观的看出自己的频率，以让自己去规划如何节制



## 其他数据的可能性
计划出恢复的平均时间，这需要我在表格中新增一个值，或者新创建一个表，用来记录间隔时间和其他先要记录的数据，用作统计和判断

## 接入API
我计划接入鸡汤API，我希望当我按下按钮到时候会出现一段话，激励或者是一些美好的话


## 关于获取更新的问题
虽然目前成功API获取到了版本，但没有测试如果推出新的版本后如何检测到每次都是新版本,还需要修复


## 关于Github获取最新版本号的问题修复
当我在Github上拥有两个Releases版本后，我决定修复获取最新版本的Bug，这样当我每次在Github上更新版本的时候，其他用户也能同步获取到最新的版本，实现第一时间更新
目前 获取到的实际上是Tag name，这样获取到的版本号只能是一些较大的更新，如果希望获取每一个小更新版本，需要更改获取的键值，但目前这样也可以使用的，我很欣慰
好吧，已经解决了，我去这个API方便，自动就是最新的



## 使用过程中遇到的问题

主页的侧栏点击按钮不清楚，因为默认是灰色的 

主页的文字显示不清楚，当背景设置暗的时候，因为文字是黑色的，所以会看不清，需要有一个判断或者可以自定义设置文字的颜色

XML的页面还是感觉不好看，缺少一些感觉，有待提高设计审美